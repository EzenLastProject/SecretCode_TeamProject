<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml" lang="en">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<link rel="stylesheet" th:href="@{/dist/css/reviewlist.css}">

<style>
    /* ê°ì‹¸ê³  ìˆëŠ” div ìš”ì†Œì— ëŒ€í•œ ìŠ¤íƒ€ì¼ */
.like-box {
    /* í•„ìš”í•œ ìŠ¤íƒ€ì¼ì„ ì—¬ê¸°ì— ì¶”ê°€í•©ë‹ˆë‹¤ */
    float: right; /* ìš°ì¸¡ ì •ë ¬ */
}

.like-button, .dislike-button {
    width: 50px;
    height: 50px;
    font-size:26px;
    text-align:center;

    border-radius: 10px; /* ë³´ë”ì˜ ë‘¥ê·¼ ì •ë„ ì„¤ì • */
    transition: border-color 0.3s ease-in-out; /* ë³´ë” ìƒ‰ìƒ ì „í™˜ íš¨ê³¼ ì¶”ê°€ */
    cursor: pointer;
    background-size: cover;
    transition: background-color 0.3s ease-in-out; /* ë°°ê²½ìƒ‰ ì „í™˜ íš¨ê³¼ ì¶”ê°€ */
    background-color: transparent; /* ê¸°ë³¸ ë°°ê²½ìƒ‰ íˆ¬ëª…ìœ¼ë¡œ ì„¤ì • */
}

/* ì¢‹ì•„ìš” ë²„íŠ¼ì˜ í˜¸ë²„ íš¨ê³¼ */
.like-button:hover {
    background-color: lightgreen; /* í˜¸ë²„ ì‹œ ë°°ê²½ìƒ‰ ë³€ê²½ (ì˜ˆ: ì˜…ì€ ì´ˆë¡ìƒ‰) */
    border-color: rgba(0, 0, 0, 0.2); /* í˜¸ë²„ ì‹œ ì—°í•œ ë³´ë” ìƒ‰ìƒìœ¼ë¡œ ë³€ê²½ */
}

/* ì‹«ì–´ìš” ë²„íŠ¼ì˜ í˜¸ë²„ íš¨ê³¼ */
.dislike-button:hover {
    background-color: lightcoral; /* í˜¸ë²„ ì‹œ ë°°ê²½ìƒ‰ ë³€ê²½ (ì˜ˆ: ì˜…ì€ ë¹¨ê°•ìƒ‰) */
    border-color: rgba(0, 0, 0, 0.2); /* í˜¸ë²„ ì‹œ ì—°í•œ ë³´ë” ìƒ‰ìƒìœ¼ë¡œ ë³€ê²½ */
}
    .card-title input,
.card-text textarea {
   border-left: 1px solid rgba(0, 0, 0, 0.1); /* ì™¼ìª½ í…Œë‘ë¦¬ ì„¤ì • */
    border-top: none; /* ìœ„ í…Œë‘ë¦¬ ì œê±° */
    border-right: none; /* ì˜¤ë¥¸ìª½ í…Œë‘ë¦¬ ì œê±° */
    border-left: none; /* ì˜¤ë¥¸ìª½ í…Œë‘ë¦¬ ì œê±° */
    border-bottom: 1px solid rgba(0, 0, 0, 0.1); /* ì™¼ìª½ í…Œë‘ë¦¬ ì„¤ì • */
    outline: none; /* í¬ì»¤ìŠ¤ íš¨ê³¼ ì œê±° */ /* ì™¸ê³½ì„  ì œê±° */
    outline: none; /* í¬ì»¤ìŠ¤ íš¨ê³¼ ì œê±° */
    width:100%;
}.review-text{
height:120px;
}

.card-title input{

    white-space: nowrap; /* ì¤„ ë°”ê¿ˆ ë°©ì§€ */
    overflow: hidden; /* ë„˜ì¹˜ëŠ” ë¶€ë¶„ ìˆ¨ê¹€ */
    text-overflow: ellipsis; /* ë„˜ì¹˜ëŠ” ë¶€ë¶„ ìƒëµ ë¶€í˜¸ë¡œ í‘œì‹œ */
}



 .ModBtn,
.DelBtn {
    color: black; /* ê¸°ë³¸ ë²„íŠ¼ ìƒ‰ìƒ */
    border:none;
    border-radius: 5px; /* ë‘¥ê·¼ í…Œë‘ë¦¬ */


    cursor: pointer; /* ì»¤ì„œ ëª¨ì–‘ ë³€ê²½ */
    transition: color 0.3s, background-color 0.3s; /* ë°°ê²½ìƒ‰ê³¼ ê¸€ììƒ‰ ë³€í™” ì• ë‹ˆë©”ì´ì…˜ */
}

.ModBtn:hover,
.DelBtn:hover {
    color: #fff; /* í˜¸ë²„ ì‹œ ê¸€ììƒ‰ ë³€ê²½ */
    background-color: #007bff; /* í˜¸ë²„ ì‹œ ë°°ê²½ìƒ‰ ë³€ê²½ */
}



</style>

<th:block th:replace="~{layout::setFragment(~{this::content})}">

    <th:block th:fragment="content" >

        <div class="full">
            <div class="container">
                <h1 class="mt-5">ë¦¬ë·°</h1>


                <div class="regBtn-box">
                    <form action="/review/register" >

                        <button type="submit" id="review-write">ë¦¬ë·° ì‘ì„±</button>
                    </form>

                </div>


                <!-- ë¦¬ë·° ëª©ë¡ -->
                <div th:each="rvo : ${list}" class="card mt-3" style="border-bottom-right-radius: 72px; border: 2px solid white; ">
                    <div class="card-body d-flex" style="height:330px;">

                        <!-- ì´ë¯¸ì§€ ì˜ì—­ -->
                        <div class="theme-img" style="width: 25%; ">
                            <img style="height:100%; width:200px;" th:src="'/upload/' + ${rvo.saveDir} + '/' + ${rvo.uuid} + '_' + ${rvo.fileName}" class="img-fluid" alt="Review Image">
                        </div>


                        <!-- ë‚´ìš© ì˜ì—­ -->
                        <div class="card-details" style="width: 65%;">
                            <div class="content">
                                <div class="star-rating">
            <span th:switch="${rvo.rating}">
                <span th:case="1">â˜…</span>
                <span th:case="2">â˜…â˜…</span>
                <span th:case="3">â˜…â˜…â˜…</span>
                <span th:case="4">â˜…â˜…â˜…â˜…</span><span th:case="5">â˜…â˜…â˜…â˜…â˜…</span>
            </span>
                                </div>
                                <div class="theme-name">
                                    <h5 class="">
        <span th:switch="${rvo.theme}">
            <span th:case="1">ìœ„ë¡œ</span>
            <span th:case="2">ë…¸ì›¨ì•„ì´ì›ƒ</span>
            <span th:case="3">Rendering</span>
            <span th:case="4">SCENE</span>
            <span th:case="5">Trigger</span>
        </span>
                                    </h5>
                                </div>

                                <div class="card-title">
                                 <h5><span><input type="text"  id="titleInput" th:value="${rvo.title}"></span></h5>
                                </div>
                                <div class="card-subtitle mb-2 text-muted">
                                    <span>[[${rvo.writer}]]</span> | <span>[[${rvo.regDate}]] </span>
                                </div>
                                <div class="card-text">
                                    <textarea class="review-text" id="contentInput" rows="3">[[${rvo.content}]]</textarea>
                                </div>

                            </div>

                        </div>


                        <div class="like-box">
                            <button class="like-button" th:data-bno="${rvo.bno}" onclick="likeReview(this)">ğŸ‘</button>
                            <button class="dislike-button" th:data-bno="${rvo.bno}" onclick="dislikeReview(this)">ğŸ‘</button>
                            <br><br>
                            <span th:id="'likeCountSpan_' + ${rvo.bno}">ê³µê°ìˆ˜: <span th:id="'likeCount_' + ${rvo.bno}" th:text="${rvo.readCount}"></span></span>
                        </div>


                    </div>

                    <div class="btn-box">
                        <form action="/review/modify" method="post">
                            <input type="hidden" name="bno" th:value="${rvo.bno}">
                            <button type="submit" class="ModBtn" id="modBtn" style="width:50px; float:right; height:30px;">ìˆ˜ì •</button>
                        </form>

                        <form action="/review/delete" method="post">
                            <input type="hidden" name="bno" th:value="${rvo.bno}">
                            <button type="submit" class="DelBtn" id="deltBtn" style="width:50px; float:right; height:30px;">ì‚­ì œ</button>
                        </form>
                    </div>
                </div>

            </div>
            <nav aria-label="Page navigation example" >
                <ul class="pagination justify-content-center" style="margin: 50px 0 0 0;">
                    <li th:if="${ph.prev}"  class="page-item">
                        <a class="page-link" th:href="@{/review/list(pageNo=${ph.startPage-1},qty=${ph.pgvo.qty},type=${ph.pgvo.type},keyword=${ph.pgvo.keyword})}" aria-label="Previous">
                            <span aria-hidden="true">Â«</span>
                        </a>
                    </li>
                    <!--th:classappend: ë™ì  í´ë˜ìŠ¤ ì¶”ê°€-->

                    <th:block th:each="i:${#numbers.sequence(ph.startPage,ph.endPage)} ">

                        <li class="page-item" th:classappend="${ph.pgvo.pageNo == i ?'active':''}" aria-current="page">
                            <a class="page-link" style="color:black; background-color:white;" th:href="@{/review/list(pageNo=${i},qty=${ph.pgvo.qty},type=${ph.pgvo.type},keyword=${ph.pgvo.keyword})}">[[${i}]]</a>
                        </li>
                    </th:block>

                    <li th:if="${ph.next}" class="page-item">
                        <a class="page-link"  th:href="@{/review/list(pageNo=${ph.endPage+1}
                                    ,qty=${ph.pgvo.qty},type=${ph.pgvo.type},keyword=${ph.pgvo.keyword})}" aria-label="Next">
                            <span aria-hidden="true">Â»</span>
                        </a>
                    </li>
                </ul>
            </nav>


        </div>






        <script th:src="@{/dist/js/ReviewList.js}"></script>







    </th:block>
</th:block>
</html>